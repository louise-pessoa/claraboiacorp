{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Meta Tags Essenciais -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- SEO e Meta Informações -->
    <meta name="description" content="Pré-visualização da notícia: {{ noticia.titulo }}">
    <meta name="robots" content="noindex, nofollow">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/jc-favicon.png' %}">

    <!-- Título -->
    <title>PRÉ-VISUALIZAÇÃO: {{ noticia.titulo }} - Jornal do Commercio</title>

    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS - Ordem Importante -->
    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/variaveis.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/componentes.css' %}">
    <link rel="stylesheet" href="{% static 'css/layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/home-layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/nossos-produtos.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsivo.css' %}">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Banner de Preview */
        .banner-preview {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 12px 20px;
            z-index: 10000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 600;
        }

        .banner-preview-conteudo {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .banner-preview i {
            font-size: 1.3rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .banner-preview-texto {
            font-size: 0.95rem;
        }

        .banner-preview-acoes {
            display: flex;
            gap: 10px;
        }

        .btn-preview {
            background: white;
            color: #d97706;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-preview:hover {
            background: #fff5e6;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .btn-preview.btn-editar {
            background: #3b82f6;
            color: white;
        }

        .btn-preview.btn-editar:hover {
            background: #2563eb;
        }

        /* Ajustar espaçamento do conteúdo */
        body {
            padding-top: 50px;
        }

        .barra-uol {
            margin-top: 50px;
        }

        /* Marca d'água de preview no artigo */
        .artigo-noticia {
            position: relative;
        }

        .artigo-noticia::before {
            content: 'PRÉ-VISUALIZAÇÃO';
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(245, 158, 11, 0.15);
            color: #d97706;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            border: 2px dashed #f59e0b;
            z-index: 10;
        }

        @media (max-width: 768px) {
            .banner-preview {
                flex-direction: column;
                gap: 10px;
                padding: 10px 15px;
            }

            .banner-preview-acoes {
                width: 100%;
                justify-content: center;
            }

            .btn-preview {
                flex: 1;
                justify-content: center;
            }

            body {
                padding-top: 90px;
            }

            .barra-uol {
                margin-top: 90px;
            }

            .artigo-noticia::before {
                top: 10px;
                right: 10px;
                font-size: 0.65rem;
                padding: 4px 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Banner de Preview -->
    <div class="banner-preview">
        <div class="banner-preview-conteudo">
            <i class="fas fa-eye"></i>
            <div class="banner-preview-texto">
                <strong>MODO PRÉ-VISUALIZAÇÃO</strong> • Esta é uma pré-visualização de como a notícia será exibida após publicação
            </div>
        </div>
        <div class="banner-preview-acoes">
            <a href="{% url 'admin_editar_noticia' noticia.id %}" class="btn-preview btn-editar">
                <i class="fas fa-edit"></i>
                <span>Editar</span>
            </a>
            <a href="{% url 'admin_dashboard' %}" class="btn-preview">
                <i class="fas fa-arrow-left"></i>
                <span>Voltar</span>
            </a>
        </div>
    </div>

    <!-- Barra Superior UOL -->
    <div class="barra-uol">
        <div class="barra-uol-container">
            <a href="https://www.uol.com.br" target="_blank" rel="noopener noreferrer">
                <img src="https://conteudo.imguol.com.br/c/_layout/v3/logoUOL2021/logo_completo_white.svg" width="68" height="24" alt="UOL - O melhor conteúdo" title="UOL - O melhor conteúdo">
            </a>
        </div>
    </div>
    
    <div class="top-bar"></div>

    <!-- Cabeçalho -->
    <header class="cabecalho" id="cabecalho">
        <div class="cabecalho-container">
            <!-- Menu Hamburguer (Mobile) -->
            <button class="menu-hamburguer" id="menuHamburguer" aria-label="Abrir menu">
                <span class="hamburguer-linha"></span>
                <span class="hamburguer-linha"></span>
                <span class="hamburguer-linha"></span>
            </button>

            <!-- Logo -->
            <div class="logo">
                <a href="{% url 'index' %}" title="Jornal do Commercio - Página Inicial">
                    <img src="{% static 'images/logo-jc.png' %}" alt="Jornal do Commercio" class="logo-imagem">
                </a>
            </div>

            <!-- Ações do Cabeçalho -->
            <div class="cabecalho-acoes">
                <!-- Busca -->
                <button class="botao-busca" id="botaoBusca" aria-label="Buscar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" viewBox="0 0 26 25" fill="none">
                        <path d="M9.94141 0.0126953C14.9368 0.266326 18.909 4.40185 18.9092 9.4668C18.9092 11.4996 18.2668 13.3811 17.1777 14.9238L25.6816 23.1934C26.0979 23.5981 26.1073 24.2639 25.7031 24.6807C25.299 25.0974 24.634 25.1077 24.2178 24.7031L15.7822 16.5C14.1067 18.0127 11.8887 18.9345 9.45508 18.9346L8.96777 18.9219C3.97237 18.6681 0 14.5318 0 9.4668C0.000149269 4.2384 4.23347 0 9.45508 0L9.94141 0.0126953ZM9.45508 2C5.34049 2 2.00015 5.34051 2 9.4668C2 13.5932 5.3404 16.9346 9.45508 16.9346C13.5696 16.9344 16.9092 13.5931 16.9092 9.4668C16.909 5.34063 13.5695 2.00019 9.45508 2Z" fill="#33363F"/>
                    </svg>
                </button>

                <!-- Perfil -->
                <button class="botao-perfil" id="botaoPerfil" aria-label="Meu perfil">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="13.3334" r="4" stroke="#33363F" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="16" cy="16" r="12" stroke="#33363F" stroke-width="2"/>
                        <path d="M23.7074 25.1019C23.8769 25.0088 23.957 24.8073 23.8854 24.6277C23.3712 23.3393 22.3808 22.2046 21.0419 21.3776C19.5955 20.4843 17.8232 20 16 20C14.1768 20 12.4046 20.4842 10.9581 21.3776C9.61925 22.2046 8.6288 23.3393 8.11464 24.6277C8.04298 24.8073 8.12314 25.0088 8.29264 25.1019C13.0929 27.7373 18.9071 27.7373 23.7074 25.1019Z" fill="#33363F"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Barra de Busca (Expansível) -->
        <div class="barra-busca" id="barraBusca" aria-hidden="true">
            <div class="barra-busca-container">
                <input type="text" class="input-busca" id="inputBusca" placeholder="Buscar notícias..." aria-label="Buscar notícias">
                <button class="botao-fechar-busca" id="botaoFecharBusca" aria-label="Fechar busca">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Menu Lateral -->
    <nav class="menu-lateral" id="menuLateral" aria-label="Menu principal">
        <div class="menu-lateral-header">
            <button class="menu-fechar" id="menuFechar" aria-label="Fechar menu">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <ul class="menu-lateral-lista">
            <li><a href="{% url 'index' %}"><i class="fas fa-home"></i> Início</a></li>
            <li><a href="#politica"><i class="fas fa-landmark"></i> Política</a></li>
            <li><a href="#economia"><i class="fas fa-chart-line"></i> Economia</a></li>
            <li><a href="#esportes"><i class="fas fa-futbol"></i> Esportes</a></li>
            <li><a href="#cultura"><i class="fas fa-palette"></i> Cultura</a></li>
            <li><a href="#tecnologia"><i class="fas fa-laptop"></i> Tecnologia</a></li>
            <li><a href="{% url 'mais_lidas' %}"><i class="fas fa-fire"></i> Mais Lidas</a></li>
        </ul>
    </nav>

    <!-- Overlay do Menu -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Conteúdo Principal -->
    <main class="conteudo-principal" id="conteudoPrincipal">
        <div class="container">
            <!-- Breadcrumb -->
            <nav class="breadcrumb" aria-label="Navegação por breadcrumb">
                <a href="{% url 'index' %}">Início</a>
                <span class="breadcrumb-separador">/</span>
                <a href="#">{{ noticia.categoria.nome|default:'Notícias' }}</a>
                <span class="breadcrumb-separador">/</span>
                <span class="breadcrumb-atual">{{ noticia.titulo|truncatewords:5 }}</span>
            </nav>

            <!-- Artigo da Notícia -->
            <article class="artigo-noticia">
                <!-- Cabeçalho da Notícia -->
                <header class="artigo-cabecalho">
                    <div class="artigo-meta">
                        <span style="font-size: 0.75rem; font-weight: 500; color: #dc2626; text-transform: uppercase; letter-spacing: 0.05em; display: block; margin-bottom: 8px;">{{ noticia.categoria.nome|default:'Notícias' }}</span>
                        <time class="artigo-data" datetime="{{ noticia.data_publicacao|date:'Y-m-d' }}">
                            {{ noticia.data_publicacao|date:"d/m/Y" }} - {{ noticia.data_publicacao|timesince }} atrás
                        </time>
                    </div>

                    <h1 class="artigo-titulo">{{ noticia.titulo }}</h1>

                    {% if noticia.resumo %}
                    <p class="artigo-resumo">{{ noticia.resumo }}</p>
                    {% endif %}

                    <div class="artigo-autor-info">
                        <i class="fas fa-user-circle"></i>
                        <span>Por <strong>{{ noticia.autor.nome|default:'Redação JC' }}</strong></span>
                        <span class="separador">•</span>
                        <i class="fas fa-eye"></i>
                        <span>{{ noticia.visualizacoes.count }} visualizações</span>
                    </div>
                </header>

                <!-- Imagem Principal -->
                {% if noticia.imagem %}
                <div class="artigo-imagem-principal">
                    <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}" loading="lazy">
                </div>
                {% endif %}

                <!-- Barra de Ações -->
                <div class="artigo-acoes">
                    <button class="botao-acao" title="Compartilhar (desabilitado no preview)" disabled style="opacity: 0.6; cursor: not-allowed;">
                        <i class="fas fa-share-alt"></i>
                        <span>Compartilhar</span>
                    </button>
                    <button class="botao-acao" title="Salvar (desabilitado no preview)" disabled style="opacity: 0.6; cursor: not-allowed;">
                        <i class="far fa-bookmark"></i>
                        <span>Salvar</span>
                    </button>
                    <button class="botao-acao" id="botaoTamanhoFonte" title="Aumentar tamanho da fonte">
                        <i class="fas fa-text-height"></i>
                        <span>Tamanho</span>
                    </button>
                </div>

                <!-- Conteúdo da Notícia -->
                <div class="artigo-conteudo">
                    {{ noticia.conteudo|safe }}
                </div>

                <!-- Tags -->
                {% if noticia.tags.exists %}
                <div class="artigo-tags">
                    <i class="fas fa-tags"></i>
                    {% for tag in noticia.tags.all %}
                        <a href="#" class="tag">{{ tag.nome }}</a>
                    {% endfor %}
                </div>
                {% endif %}

                <!-- Navegação de Preview -->
                <div class="artigo-navegacao" style="margin-top: 30px; display: flex; gap: 15px; flex-wrap: wrap;">
                    <a href="{% url 'admin_editar_noticia' noticia.id %}" class="btn-preview btn-editar" style="text-decoration: none; flex: 1; min-width: 200px; justify-content: center;">
                        <i class="fas fa-edit"></i> Editar Notícia
                    </a>
                    <a href="{% url 'admin_dashboard' %}" class="btn-preview" style="text-decoration: none; flex: 1; min-width: 200px; justify-content: center;">
                        <i class="fas fa-arrow-left"></i> Voltar ao Painel
                    </a>
                </div>
            </article>
        </div>
    </main>

    <!-- Navegação Inferior (Mobile) -->
    <nav class="navegacao-inferior" id="navegacaoInferior" aria-label="Navegação rápida">
        <a href="{% url 'index' %}" class="nav-item">
            <img src="{% static 'images/Home.png' %}" alt="Início" class="icone-home">
            <span>Início</span>
        </a>
        <a href="{% url 'mais_lidas' %}" class="nav-item">
            <img src="{% static 'images/Fire@3x.png' %}" alt="Mais Lidas" class="icone-fire">
            <span>Mais Lidas</span>
        </a>
        <a href="#neels" class="nav-item">
            <img src="{% static 'images/NFC.png' %}" alt="Neels" class="icone-nfc">
            <span>Neels</span>
        </a>
        <a href="#perfil" class="nav-item">
            <img src="{% static 'images/Radio_Fill.png' %}" alt="Ao vivo" class="icone-radio">
            <span>Ao vivo</span>
        </a>
    </nav>

    <!-- Rodapé -->
    <footer class="rodape" id="rodape">
        <div class="rodape-conteudo">
            <div class="rodape-logo">
                <img src="https://jc.uol.com.br/img/logo.svg" alt="Jornal do Commercio">
                <p>O jornal mais tradicional de Pernambuco</p>
            </div>
        </div>

        <div class="rodape-copyright">
            <p>&copy; 2025 Jornal do Commercio. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="{% static 'js/app.js' %}"></script>
    <script src="{% static 'js/navegacao.js' %}"></script>
</body>
</html>
