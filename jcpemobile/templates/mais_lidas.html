{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Meta Tags Essenciais -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- SEO e Meta Informações -->
    <meta name="description" content="Jornal do Commercio - O mais tradicional veículo de comunicação de Pernambuco. Notícias, reportagens e cobertura completa.">
    <meta name="keywords" content="notícias, pernambuco, recife, jornal, commercio, jc, política, economia, esportes">
    <meta name="author" content="Jornal do Commercio">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="TOP 10 Mais Lidas - Jornal do Commercio">
    <meta property="og:description" content="As notícias mais lidas do Jornal do Commercio">
    <meta property="og:image" content="{% static 'images/logo-jc.png' %}">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/jc-favicon.png' %}">

    <!-- Título -->
    <title>TOP 10 Mais Lidas - Jornal do Commercio</title>
    
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS - Ordem Importante -->
    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/variaveis.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/componentes.css' %}">
    <link rel="stylesheet" href="{% static 'css/layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/home-layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsivo.css' %}">
    <link rel="stylesheet" href="{% static 'css/modal-cadastro.css' %}">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        .mais-lidas-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 60vh;
        }

        .mais-lidas-header {
            margin-bottom: 40px;
            text-align: center;
        }

        .mais-lidas-header h1 {
            font-size: 2.5rem;
            color: var(--cor-primaria);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .mais-lidas-header p {
            color: var(--cor-texto-secundario);
            font-size: 1.1rem;
        }

        .icone-fire-header {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }

        .tabs-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 12px 30px;
            background: white;
            border: 2px solid var(--cor-borda);
            border-radius: 25px;
            font-weight: 600;
            color: var(--cor-texto-secundario);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-button:hover {
            border-color: var(--cor-primaria);
            color: var(--cor-primaria);
        }

        .tab-button.ativo {
            background: var(--cor-primaria);
            border-color: var(--cor-primaria);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.ativo {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .lista-noticias {
            display: grid;
            gap: 20px;
        }

        .item-noticia {
            display: flex;
            gap: 20px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
        }

        .item-noticia:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }

        .ranking-numero {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--cor-primaria);
            min-width: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .item-noticia-imagem {
            width: 250px;
            min-width: 250px;
            height: 160px;
            border-radius: 8px;
            overflow: hidden;
        }

        .item-noticia-imagem img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .item-noticia-conteudo {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .item-noticia-categoria {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--cor-primaria);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .item-noticia-titulo {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--cor-texto-principal);
            line-height: 1.4;
            margin: 0;
        }

        .item-noticia-meta {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 0.9rem;
            color: var(--cor-texto-terciario);
        }

        .visualizacoes {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .mensagem-vazio {
            text-align: center;
            padding: 60px 20px;
        }

        .mensagem-vazio i {
            font-size: 5rem;
            color: var(--cor-borda);
            margin-bottom: 20px;
        }

        .mensagem-vazio h2 {
            font-size: 1.8rem;
            color: var(--cor-texto-principal);
            margin-bottom: 15px;
        }

        .mensagem-vazio p {
            color: var(--cor-texto-secundario);
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .item-noticia {
                flex-direction: column;
            }

            .ranking-numero {
                font-size: 2rem;
                min-width: auto;
            }

            .item-noticia-imagem {
                width: 100%;
                height: 200px;
            }

            .mais-lidas-header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Barra Superior UOL -->
    <div class="barra-uol">
        <div class="barra-uol-container">
            <a href="https://www.uol.com.br" target="_blank" rel="noopener noreferrer">
                <img src="{% static 'images/LogoUol.svg' %}" alt="UOL" class="logo-uol">
            </a>
        </div>
    </div>
    
    <!-- Barra Vermelha do Topo -->
    <div class="top-bar"></div>

    <!-- Cabeçalho -->
    <header class="cabecalho" id="cabecalho">
        <div class="cabecalho-container">
            <!-- Menu Hamburguer (Mobile) -->
            <button class="menu-hamburguer" id="menuHamburguer" aria-label="Abrir menu">
                <span class="hamburguer-linha"></span>
                <span class="hamburguer-linha"></span>
                <span class="hamburguer-linha"></span>
            </button>

            <!-- Logo -->
            <div class="logo">
                <a href="{% url 'index' %}" title="Jornal do Commercio - Página Inicial">
                    <img src="{% static 'images/logo-jc.png' %}" alt="Jornal do Commercio" class="logo-imagem">
                </a>
            </div>

            <!-- Ações do Cabeçalho -->
            <div class="cabecalho-acoes">
                <!-- Busca -->
                <button class="botao-busca" id="botaoBusca" aria-label="Buscar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" viewBox="0 0 26 25" fill="none">
                        <path d="M9.94141 0.0126953C14.9368 0.266326 18.909 4.40185 18.9092 9.4668C18.9092 11.4996 18.2668 13.3811 17.1777 14.9238L25.6816 23.1934C26.0979 23.5981 26.1073 24.2639 25.7031 24.6807C25.299 25.0974 24.634 25.1077 24.2178 24.7031L15.7822 16.5C14.1067 18.0127 11.8887 18.9345 9.45508 18.9346L8.96777 18.9219C3.97237 18.6681 0 14.5318 0 9.4668C0.000149269 4.2384 4.23347 0 9.45508 0L9.94141 0.0126953ZM9.45508 2C5.34049 2 2.00015 5.34051 2 9.4668C2 13.5932 5.3404 16.9346 9.45508 16.9346C13.5696 16.9344 16.9092 13.5931 16.9092 9.4668C16.909 5.34063 13.5695 2.00019 9.45508 2Z" fill="#33363F"/>
                    </svg>
                </button>

                <!-- Perfil -->
                <button class="botao-perfil" id="botaoPerfil" aria-label="Meu perfil">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="13.3334" r="4" stroke="#33363F" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="16" cy="16" r="12" stroke="#33363F" stroke-width="2"/>
                        <path d="M23.7074 25.1019C23.8769 25.0088 23.957 24.8073 23.8854 24.6277C23.3712 23.3393 22.3808 22.2046 21.0419 21.3776C19.5955 20.4843 17.8232 20 16 20C14.1768 20 12.4046 20.4842 10.9581 21.3776C9.61925 22.2046 8.6288 23.3393 8.11464 24.6277C8.04298 24.8073 8.12314 25.0088 8.29264 25.1019C13.0929 27.7373 18.9071 27.7373 23.7074 25.1019Z" fill="#33363F"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Barra de Busca (Expansível) -->
        <div class="barra-busca" id="barraBusca" aria-hidden="true">
            <div class="busca-container">
                <input type="search" class="campo-busca" placeholder="Buscar notícias..." aria-label="Buscar notícias">
                <button class="botao-filtros" aria-label="Filtros de busca">
                    <i class="fas fa-filter"></i>
                </button>
            </div>

            <!-- Filtros de Busca -->
            <div class="filtros-busca" id="filtrosBusca">
                <select class="filtro-data" aria-label="Filtrar por data">
                    <option value="">Todas as datas</option>
                    <option value="hoje">Hoje</option>
                    <option value="semana">Esta semana</option>
                    <option value="mes">Este mês</option>
                </select>

                <select class="filtro-categoria" aria-label="Filtrar por categoria">
                    <option value="">Todas as categorias</option>
                    <option value="pernambuco">Pernambuco</option>
                    <option value="politica">Política</option>
                    <option value="economia">Economia</option>
                    <option value="esportes">Esportes</option>
                    <option value="cultura">Cultura</option>
                </select>

                <select class="filtro-ordenar" aria-label="Ordenar por">
                    <option value="relevancia">Mais relevantes</option>
                    <option value="recentes">Mais recentes</option>
                    <option value="antigas">Mais antigas</option>
                </select>
            </div>
        </div>
    </header>

    <!-- Menu Lateral -->
    <nav class="menu-lateral" id="menuLateral" aria-label="Menu principal">
        <div class="menu-lateral-cabecalho">
            <div class="menu-hamburguer-icone">
                <i class="fas fa-bars"></i>
            </div>
            <button class="menu-lateral-fechar" id="menuLateralFechar" aria-label="Fechar menu">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="menu-lateral-conteudo">
            <!-- Perfil do Usuário (se logado) -->
            <div class="menu-lateral-perfil">
                <img src="{% static 'images/User.png' %}" alt="Perfil" class="icone-perfil">
                <div class="perfil-info">
                    {% if user.is_authenticated %}
                        <span class="perfil-nome">{{ user.first_name|default:user.username }}</span>
                        <a href="{% url 'logout_usuario' %}" class="perfil-link">Sair</a>
                    {% else %}
                        <span class="perfil-nome">Visitante</span>
                        <a href="#" class="perfil-link" id="linkEntrarMenu">Entrar / Cadastrar</a>
                    {% endif %}
                </div>
            </div>

            <!-- Menu Principal -->
            <ul class="menu-principal">
                <!-- Categorias -->
                <li class="menu-item menu-item-expansivel">
                    <button class="menu-link" aria-expanded="false">
                        <span>Categorias</span>
                        <i class="fas fa-chevron-down menu-seta"></i>
                    </button>
                    <ul class="submenu">
                        <li><a href="#pernambuco">Pernambuco</a></li>
                        <li><a href="#politica">Política</a></li>
                        <li><a href="#economia">Economia</a></li>
                        <li><a href="#mundo">Mundo</a></li>
                        <li><a href="#esportes">Esportes</a></li>
                        <li><a href="#cultura">Cultura</a></li>
                        <li><a href="#educacao">Educação</a></li>
                        <li><a href="#mobilidade">Mobilidade</a></li>
                    </ul>
                </li>

                <!-- Seções Especiais -->
                <li class="menu-item">
                    <a href="{% url 'mais_lidas' %}" class="menu-link">
                        <span>Mais Lidas</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a href="#neels" class="menu-link">
                        <span>Neels</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a href="#curtas" class="menu-link">
                        <span>Curtas</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a href="#linha-tempo" class="menu-link">
                        <span>Linha do Tempo</span>
                    </a>
                </li>

                <!-- Canais -->
                <li class="menu-item menu-item-expansivel">
                    <button class="menu-link" aria-expanded="false">
                        <span>Canais</span>
                        <i class="fas fa-chevron-down menu-seta"></i>
                    </button>
                    <ul class="submenu">
                        <li><a href="#tv-jornal">TV Jornal</a></li>
                        <li><a href="#radio-jornal">Rádio Jornal</a></li>
                        <li><a href="#podcasts">Podcasts</a></li>
                    </ul>
                </li>

                <!-- Outras Seções -->
                <li class="menu-item">
                    <a href="#jornal-digital" class="menu-link">
                        <span>Jornal Digital</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a href="{% url 'salvos' %}" class="menu-link">
                        <span>Notícias Salvas</span>
                    </a>
                </li>
            </ul>

            <!-- Redes Sociais -->
            <div class="menu-redes-sociais">
                <h3>Siga JC</h3>
                <div class="redes-sociais-lista">
                    <a href="https://www.facebook.com/jornaldocommercio" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/jornaldocommercio" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://twitter.com/jconlinepe" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)" title="X">
                        <i class="fab fa-x-twitter"></i>
                    </a>
                    <a href="https://www.linkedin.com/company/jornal-do-commercio" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" title="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://www.youtube.com/@jornaldocommercio" target="_blank" rel="noopener noreferrer" aria-label="YouTube" title="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="https://www.tiktok.com/@jconlinepe" target="_blank" rel="noopener noreferrer" aria-label="TikTok" title="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                </div>
            </div>

            <!-- Links Secundários -->
            <div class="menu-lateral-rodape">
                <a href="#sobre">Sobre o JC</a>
                <a href="#fale-conosco">Fale Conosco</a>
                <a href="#anuncie">Anuncie</a>
                <a href="#privacidade">Privacidade</a>
            </div>
        </div>
    </nav>

    <!-- Overlay do Menu -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Conteúdo Principal -->
    <main class="conteudo-principal">
        <div class="mais-lidas-container">
            <div class="mais-lidas-header">
                <h1>
                    <img src="{% static 'images/Fire@3x.png' %}" alt="Mais Lidas" class="icone-fire-header">
                    Ranking
                </h1>
                <p>As notícias mais populares do Jornal do Commercio</p>
            </div>

            <!-- Tabs -->
            <div class="tabs-container">
                <button class="tab-button ativo" data-tab="hoje">Hoje</button>
                <button class="tab-button" data-tab="semana">Esta Semana</button>
                <button class="tab-button" data-tab="mes">Este Mês</button>
            </div>

            <!-- Conteúdo Hoje -->
            <div class="tab-content ativo" id="tab-hoje">
                {% if noticias_hoje %}
                    <div class="lista-noticias">
                        {% for noticia in noticias_hoje %}
                        <a href="{% url 'noticia_detalhe' noticia.slug %}" class="item-noticia">
                            <div class="ranking-numero">{{ forloop.counter }}</div>
                            <div class="item-noticia-imagem">
                                {% if noticia.imagem %}
                                    <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}">
                                {% else %}
                                    <img src="https://picsum.photos/250/160?random={{ forloop.counter }}" alt="{{ noticia.titulo }}">
                                {% endif %}
                            </div>
                            <div class="item-noticia-conteudo">
                                <span class="item-noticia-categoria">{{ noticia.categoria.nome|default:'Notícias' }}</span>
                                <h2 class="item-noticia-titulo">{{ noticia.titulo }}</h2>
                                <div class="item-noticia-meta">
                                    <time>{{ noticia.data_publicacao|timesince }} atrás</time>
                                    <span class="visualizacoes">
                                        <i class="fas fa-eye"></i>
                                        {{ noticia.visualizacoes_dia }} visualizações
                                    </span>
                                </div>
                            </div>
                        </a>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="mensagem-vazio">
                        <i class="fas fa-newspaper"></i>
                        <h2>Nenhuma notícia ainda hoje</h2>
                        <p>Volte mais tarde para ver as notícias mais lidas!</p>
                    </div>
                {% endif %}
            </div>

            <!-- Conteúdo Semana -->
            <div class="tab-content" id="tab-semana">
                {% if noticias_semana %}
                    <div class="lista-noticias">
                        {% for noticia in noticias_semana %}
                        <a href="{% url 'noticia_detalhe' noticia.slug %}" class="item-noticia">
                            <div class="ranking-numero">{{ forloop.counter }}</div>
                            <div class="item-noticia-imagem">
                                {% if noticia.imagem %}
                                    <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}">
                                {% else %}
                                    <img src="https://picsum.photos/250/160?random={{ forloop.counter }}" alt="{{ noticia.titulo }}">
                                {% endif %}
                            </div>
                            <div class="item-noticia-conteudo">
                                <span class="item-noticia-categoria">{{ noticia.categoria.nome|default:'Notícias' }}</span>
                                <h2 class="item-noticia-titulo">{{ noticia.titulo }}</h2>
                                <div class="item-noticia-meta">
                                    <time>{{ noticia.data_publicacao|timesince }} atrás</time>
                                    <span class="visualizacoes">
                                        <i class="fas fa-eye"></i>
                                        {{ noticia.visualizacoes_semana }} visualizações
                                    </span>
                                </div>
                            </div>
                        </a>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="mensagem-vazio">
                        <i class="fas fa-newspaper"></i>
                        <h2>Nenhuma notícia esta semana</h2>
                        <p>Volte mais tarde para ver as notícias mais lidas!</p>
                    </div>
                {% endif %}
            </div>

            <!-- Conteúdo Mês -->
            <div class="tab-content" id="tab-mes">
                {% if noticias_mes %}
                    <div class="lista-noticias">
                        {% for noticia in noticias_mes %}
                        <a href="{% url 'noticia_detalhe' noticia.slug %}" class="item-noticia">
                            <div class="ranking-numero">{{ forloop.counter }}</div>
                            <div class="item-noticia-imagem">
                                {% if noticia.imagem %}
                                    <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}">
                                {% else %}
                                    <img src="https://picsum.photos/250/160?random={{ forloop.counter }}" alt="{{ noticia.titulo }}">
                                {% endif %}
                            </div>
                            <div class="item-noticia-conteudo">
                                <span class="item-noticia-categoria">{{ noticia.categoria.nome|default:'Notícias' }}</span>
                                <h2 class="item-noticia-titulo">{{ noticia.titulo }}</h2>
                                <div class="item-noticia-meta">
                                    <time>{{ noticia.data_publicacao|timesince }} atrás</time>
                                    <span class="visualizacoes">
                                        <i class="fas fa-eye"></i>
                                        {{ noticia.visualizacoes_mes }} visualizações
                                    </span>
                                </div>
                            </div>
                        </a>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="mensagem-vazio">
                        <i class="fas fa-newspaper"></i>
                        <h2>Nenhuma notícia este mês</h2>
                        <p>Volte mais tarde para ver as notícias mais lidas!</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </main>

    <!-- Navegação Inferior -->
    <nav class="navegacao-inferior" id="navegacaoInferior" aria-label="Navegação rápida">
        <a href="{% url 'index' %}" class="nav-item">
            <img src="{% static 'images/Home.png' %}" alt="Início" class="icone-home">
            <span>Início</span>
        </a>
        <a href="{% url 'mais_lidas' %}" class="nav-item nav-item-ativo">
            <img src="{% static 'images/Fire@3x.png' %}" alt="Mais Lidas" class="icone-fire">
            <span>Mais Lidas</span>
        </a>
        <a href="#neels" class="nav-item">
            <img src="{% static 'images/NFC.png' %}" alt="Neels" class="icone-nfc">
            <span>Neels</span>
        </a>
        <a href="#perfil" class="nav-item">
            <img src="{% static 'images/Radio_Fill.png' %}" alt="Ao vivo" class="icone-radio">
            <span>Ao vivo</span>
        </a>
    </nav>

    <!-- Rodapé -->
    <footer class="rodape">
        <div class="rodape-conteudo">
            <div class="rodape-logo">
                <img src="{% static 'images/logo-jc.png' %}" alt="Jornal do Commercio">
                <p>O jornal mais tradicional de Pernambuco</p>
            </div>
        </div>
        <div class="rodape-copyright">
            <p>&copy; 2025 Jornal do Commercio. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Modals -->
    {% include 'cadastro_modal.html' %}
    {% include 'login_modal.html' %}

    <!-- JavaScript -->
    <script src="{% static 'js/app.js' %}"></script>
    <script src="{% static 'js/navegacao.js' %}"></script>
    <script src="{% static 'js/cadastro.js' %}"></script>
    <script src="{% static 'js/login.js' %}"></script>

    <script>
        // Sistema de tabs
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');

                    // Remove classe ativa de todos
                    tabButtons.forEach(btn => btn.classList.remove('ativo'));
                    tabContents.forEach(content => content.classList.remove('ativo'));

                    // Adiciona classe ativa ao selecionado
                    this.classList.add('ativo');
                    document.getElementById('tab-' + tabName).classList.add('ativo');
                });
            });
        });
    </script>
</body>
</html>
